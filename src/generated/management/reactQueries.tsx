// Generated by @compas/code-gen

import type { UseMutationOptions, UseMutationResult } from "@tanstack/react-query";
import type { AxiosRequestConfig } from "axios";

import { useMutation, useQueryClient } from "@tanstack/react-query";

import type { AppErrorResponse } from "generated/common/api-client";
import type { Pretty } from "generated/common/api-client-wrapper";
import { useApi } from "generated/common/api-client-wrapper";
import type {
  ManagementRequestMagicLinkBody,
  ManagementRequestMagicLinkResponse,
} from "generated/common/types";

import { apiManagementRequestMagicLink } from "./apiClient";
/**
 * Sends a magic link via Slack. Locally it directly returns the url.
 *
 */
type UseManagementRequestMagicLinkProps = Pretty<
  ManagementRequestMagicLinkBody & { requestConfig?: AxiosRequestConfig }
>;
export function useManagementRequestMagicLink(
  options: UseMutationOptions<
    ManagementRequestMagicLinkResponse,
    AppErrorResponse,
    UseManagementRequestMagicLinkProps
  > = {},
): UseMutationResult<
  ManagementRequestMagicLinkResponse,
  AppErrorResponse,
  UseManagementRequestMagicLinkProps,
  unknown
> {
  const axiosInstance = useApi();
  const queryClient = useQueryClient();
  return useMutation(
    variables =>
      apiManagementRequestMagicLink(
        axiosInstance,
        { slackUserId: variables["slackUserId"] },
        variables?.requestConfig,
      ),
    options,
  );
}
