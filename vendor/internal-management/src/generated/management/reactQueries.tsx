// Generated by @compas/code-gen

import type { UseMutationOptions, UseMutationResult } from "@tanstack/react-query";
import { useMutation, useQueryClient } from "@tanstack/react-query";
import type { AxiosRequestConfig } from "axios";
import type { AppErrorResponse } from "../common/api-client";
import type { Pretty } from "../common/api-client-wrapper";
import { useApi } from "../common/api-client-wrapper";
import type { ManagementRequestMagicLinkBody, ManagementRequestMagicLinkResponse } from "../common/types";
import { apiManagementRequestMagicLink } from "./apiClient";
/**
 * Sends a magic link via Slack. Locally it directly returns the url.
 *
 */
type UseManagementRequestMagicLinkProps = Pretty<
  ManagementRequestMagicLinkBody & { requestConfig?: AxiosRequestConfig }
>;
export function useManagementRequestMagicLink<Context = unknown>(
  options: UseMutationOptions<
    ManagementRequestMagicLinkResponse,
    AppErrorResponse,
    UseManagementRequestMagicLinkProps,
    Context
  > = {},
): UseMutationResult<
  ManagementRequestMagicLinkResponse,
  AppErrorResponse,
  UseManagementRequestMagicLinkProps,
  Context
> {
  const axiosInstance = useApi();
  const queryClient = useQueryClient();
  return useMutation({
    mutationFn: variables =>
      apiManagementRequestMagicLink(
        axiosInstance,
        { slackUserId: variables["slackUserId"] },
        variables?.requestConfig,
      ),
    ...options,
  });
}
